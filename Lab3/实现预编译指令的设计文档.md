# 实现预编译指令的设计文档

## 1.对象和变量的表示定义

- 定义一个struct来表示预编译指令，包含名称和id。
- 设计一个预编译指令表，以供匹配查找。
- 设计一个宏指令表，来存储define定义的宏，用map实现。
- 定义一个全局bool型变量print表示当前语句是否要输出。

## 2.解析文件算法

### 2.1.前期准备：
- 实现每一条预编译指令的功能，其基本上是对上述变量造成影响。
- 实现对code的操作。主要是根据print判断当前行是否要输出，宏替换，以及引号之间的与宏
	key相同的字符不要替换。
- 在实现part3的时候，宏替换时，我们要解析map中存的key，将其解析为真正的key（记为key1）
和parameter。然后再在value中替换parameter。再将code中的宏替换掉。

### 2.2.算法：
1. 读取当前行，如果是eof则结束操作。否则根据第一个非空格字符是否为#判断改行是预编译指令
	还是code，如果是预编译指令，转至2，否则转至3。
2. 解析出当前预编译指令，执行当前预编译指令对应的功能。下一行转至1。
3. 执行对当前code的操作。下一行转至1。
